(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6924e8bc"],{"1a61":function(e,t,r){},3876:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=this,r=t.$createElement,n=t._self._c||r;return n("div",[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[t._v("首页")]),n("el-breadcrumb-item",[t._v("库存管理")]),n("el-breadcrumb-item",[t._v("供货商信息")])],1),n("br"),n("el-row",[n("el-col",{staticStyle:{"text-align":"left","padding-right":"10px"},attrs:{span:8}},[n("el-input",{attrs:{placeholder:"供货商名称"},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1),n("el-col",{staticStyle:{"text-align":"left","padding-right":"10px"},attrs:{span:8}},[n("el-input",{attrs:{placeholder:"地址"},model:{value:t.searchForm.address,callback:function(e){t.$set(t.searchForm,"address",e)},expression:"searchForm.address"}})],1),n("el-col",{attrs:{span:8}},[n("el-input",{attrs:{placeholder:"描述"},model:{value:t.searchForm.info,callback:function(e){t.$set(t.searchForm,"info",e)},expression:"searchForm.info"}})],1)],1),n("br"),n("el-row",[n("el-col",{staticStyle:{"text-align":"left"},attrs:{span:24}},[n("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:t.subSearchForm}},[n("i",{staticClass:"iconfont icon-r-find",staticStyle:{"font-size":"18px"}}),t._v(" 搜索 ")]),n("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"success"},on:{click:function(e){t.newVisable=!0}}},[n("i",{staticClass:"iconfont icon-r-add",staticStyle:{"font-size":"18px"}}),t._v(" 创建供货商 ")])],1)],1),n("br"),n("div",{staticClass:"table"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"medium"}},[n("el-table-column",{attrs:{type:"index",width:"200",label:"序号"}}),n("el-table-column",{attrs:{prop:"name","show-overflow-tooltip":!0,label:"名称"}}),n("el-table-column",{attrs:{prop:"address","show-overflow-tooltip":!0,label:"地址"}}),n("el-table-column",{attrs:{prop:"tel","show-overflow-tooltip":!0,label:"联系电话"}}),n("el-table-column",{attrs:{prop:"info","show-overflow-tooltip":!0,label:"备注"}}),n("el-table-column",{attrs:{width:"240",fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"warning"},on:{click:function(r){return t.editBtn(e.row.cn)}}},[n("i",{staticClass:"iconfont icon-r-edit",staticStyle:{"font-size":"18px"}}),t._v(" 修改 ")]),n("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"danger"},on:{click:function(r){return t.delBtn(e.row.cn)}}},[n("i",{staticClass:"iconfont icon-r-delete",staticStyle:{"font-size":"18px"}}),t._v(" 删除 ")])]}}])})],1),n("div",{staticStyle:{margin:"10px 0 15px 0"}},[n("el-pagination",{attrs:{"current-page":t.searchForm.currentPage,"page-sizes":[5,10,20,50],"page-size":t.searchForm.pageSize,layout:"total,sizes, prev, pager, next,jumper",total:t.searchForm.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.searchForm,"currentPage",e)},"update:current-page":function(e){return t.$set(t.searchForm,"currentPage",e)}}})],1)],1),n("el-dialog",{attrs:{title:"创建供货商信息",visible:t.newVisable,width:"50%"},on:{"update:visible":function(e){t.newVisable=e}}},[n("el-form",{ref:"newForm",staticClass:"demo-ruleForm",attrs:{model:t.newForm,rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"名称：",prop:"name"}},[n("el-input",{attrs:{placeholder:"供应商名称"},model:{value:t.newForm.name,callback:function(e){t.$set(t.newForm,"name",e)},expression:"newForm.name"}})],1),n("el-form-item",{attrs:{label:"地址：",prop:"address"}},[n("el-input",{attrs:{type:"text",placeholder:"供应商地址"},model:{value:t.newForm.address,callback:function(e){t.$set(t.newForm,"address",e)},expression:"newForm.address"}})],1),n("el-form-item",{attrs:{label:"电话：",prop:"tel"}},[n("el-input",{attrs:{type:"text",placeholder:"联系电话"},model:{value:t.newForm.tel,callback:function(e){t.$set(t.newForm,"tel",e)},expression:"newForm.tel"}})],1),n("el-form-item",{attrs:{label:"描述："}},[n("el-input",{attrs:{type:"textarea",placeholder:"供应商的简单描述"},model:{value:t.newForm.info,callback:function(e){t.$set(t.newForm,"info",e)},expression:"newForm.info"}})],1),n("el-form-item",[n("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){return t.submitNewForm("newForm")}}},[n("i",{staticClass:"iconfont icon-r-yes",staticStyle:{"font-size":"18px"}}),t._v(" 提交 ")]),n("el-button",{staticStyle:{"font-size":"18px"},on:{click:function(){e.$refs["newForm"].resetFields(),t.newForm={},t.newVisable=!1}}},[t._v("关闭 ")])],1)],1)],1),n("el-dialog",{attrs:{title:"修改供货商信息",visible:t.editVisable,width:"50%"},on:{"update:visible":function(e){t.editVisable=e}}},[n("el-form",{ref:"editForm",staticClass:"demo-ruleForm",attrs:{model:t.editForm,rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"名称：",prop:"name"}},[n("el-input",{attrs:{placeholder:"供应商名称"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),n("el-form-item",{attrs:{label:"地址：",prop:"address"}},[n("el-input",{attrs:{type:"text",placeholder:"供应商地址"},model:{value:t.editForm.address,callback:function(e){t.$set(t.editForm,"address",e)},expression:"editForm.address"}})],1),n("el-form-item",{attrs:{label:"电话：",prop:"tel"}},[n("el-input",{attrs:{type:"text",placeholder:"联系电话"},model:{value:t.editForm.tel,callback:function(e){t.$set(t.editForm,"tel",e)},expression:"editForm.tel"}})],1),n("el-form-item",{attrs:{label:"描述："}},[n("el-input",{attrs:{type:"textarea",placeholder:"供应商的简单描述"},model:{value:t.editForm.info,callback:function(e){t.$set(t.editForm,"info",e)},expression:"editForm.info"}})],1),n("el-form-item",[n("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){return t.submitEditForm("editForm")}}},[n("i",{staticClass:"iconfont icon-r-yes",staticStyle:{"font-size":"18px"}}),t._v(" 提交 ")]),n("el-button",{staticStyle:{"font-size":"18px"},on:{click:function(){e.$refs["editForm"].resetFields(),t.editForm={},t.editVisable=!1}}},[t._v("关闭 ")])],1)],1)],1)],1)},a=[],o=r("5530"),s=r("e2a7"),i=r("b775"),l="/inventory/supplier";function c(e){return Object(i["a"])({url:l+"/queryPageByQo",method:"post",data:e})}function u(e){return Object(i["a"])({url:l+"/save",method:"post",data:e})}function d(e){return Object(i["a"])({url:l+"/update",method:"post",data:e})}function m(e){return Object(i["a"])({url:l+"/queryByCn",method:"post",data:e})}function f(e){return Object(i["a"])({url:l+"/deactivate",method:"post",data:e})}var p={data:function(){return{tableData:[],editVisable:!1,editForm:{},searchForm:{pageSize:5},newVisable:!1,newForm:{},rules:{name:[{required:!0,message:"供货商名称不能为空",trigger:"blur"}],address:[{required:!0,message:"供货商地址不能为空",trigger:"blur"}],tel:[{required:!0,message:"供货商联系电话不能为空",trigger:"blur"}]}}},methods:{subSearchForm:function(){this.init()},init:function(){var e=this;c(this.searchForm).then((function(t){200===t.code?(e.tableData=t.data.records,e.searchForm.total=t.data.total,e.searchForm.pageSize=t.data.size,e.searchForm.currentPage=t.data.current):Object(s["a"])(t.msg,"error")}))},handleSizeChange:function(e){this.searchForm.pageSize=e,this.init(),console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){this.searchForm.currentPage=e,this.init(),console.log("当前页: ".concat(e))},submitSearchForm:function(){this.init()},submitNewForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&u(t.newForm).then((function(e){200===e.code&&(Object(s["a"])("添加成功"),t.newVisable=!1,t.newForm={},t.init())}))}))},delBtn:function(e){var t=this;this.$confirm("确定要删除这条记录？","警示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){f({cn:e}).then((function(e){200===e.code&&(Object(s["a"])("删除成功"),t.init())}))})).catch((function(){t.$message({type:"info",message:"已取消操作"})}))},editBtn:function(e){var t=this;m({cn:e}).then((function(e){200===e.code&&(t.editForm=Object(o["a"])({},e.data),t.editVisable=!0)}))},submitEditForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&d(t.editForm).then((function(e){200===e.code&&(Object(s["a"])("修改成功"),t.editVisable=!1,t.editForm={},t.init())}))}))}},mounted:function(){this.init()}},b=p,h=(r("929c"),r("2877")),g=Object(h["a"])(b,n,a,!1,null,null,null);t["default"]=g.exports},"5f87":function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return c}));r("b64b");var n=r("852e"),a=r.n(n),o="token";function s(){return a.a.get(o)}function i(){return a.a.remove(o)}function l(){var e=a.a.get("employee");return JSON.parse(e)}function c(e){a.a.remove(e)}},"929c":function(e,t,r){"use strict";r("1a61")},b775:function(e,t,r){"use strict";r("c7eb"),r("1da1"),r("5530");var n=r("53ca"),a=(r("d9e2"),r("caad"),r("fb6a"),r("e9c4"),r("b64b"),r("d3b7"),r("2532"),r("bc3a")),o=r.n(a),s=r("5c96"),i=r("4360"),l=r("5f87"),c={401:"认证失败，无法访问系统资源",403:"当前操作没有权限",404:"访问资源不存在",default:"系统未知错误，请反馈给管理员"};r("b85c"),r("a15b"),r("14d9"),r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("00b4"),r("25f0"),r("5319"),r("1276");function u(e){for(var t="",r=0,a=Object.keys(e);r<a.length;r++){var o=a[r],s=e[o],i=encodeURIComponent(o)+"=";if(null!==s&&""!==s&&"undefined"!==typeof s)if("object"===Object(n["a"])(s))for(var l=0,c=Object.keys(s);l<c.length;l++){var u=c[l];if(null!==s[u]&&""!==s[u]&&"undefined"!==typeof s[u]){var d=o+"["+u+"]",m=encodeURIComponent(d)+"=";t+=m+encodeURIComponent(s[u])+"&"}}else t+=i+encodeURIComponent(s)+"&"}return t}var d={set:function(e,t){sessionStorage&&null!=e&&null!=t&&sessionStorage.setItem(e,t)},get:function(e){return sessionStorage?null==e?null:sessionStorage.getItem(e):null},setJSON:function(e,t){null!=t&&this.set(e,JSON.stringify(t))},getJSON:function(e){var t=this.get(e);if(null!=t)return JSON.parse(t)},remove:function(e){sessionStorage.removeItem(e)}},m={set:function(e,t){localStorage&&null!=e&&null!=t&&localStorage.setItem(e,t)},get:function(e){return localStorage?null==e?null:localStorage.getItem(e):null},setJSON:function(e,t){null!=t&&this.set(e,JSON.stringify(t))},getJSON:function(e){var t=this.get(e);if(null!=t)return JSON.parse(t)},remove:function(e){localStorage.removeItem(e)}},f={session:d,local:m},p=(r("21a6"),{show:!1});o.a.defaults.headers["Content-Type"]="application/json;charset=utf-8";var b=o.a.create({baseURL:"/",timeout:1e4});b.interceptors.request.use((function(e){var t=!1===(e.headers||{}).isToken,r=!1===(e.headers||{}).repeatSubmit;if(Object(l["b"])()&&!t&&(e.headers["token"]=Object(l["b"])()),"get"===e.method&&e.params){var a=e.url+"?"+u(e.params);a=a.slice(0,-1),e.params={},e.url=a}if(!r&&("post"===e.method||"put"===e.method)){var o={url:e.url,data:"object"===Object(n["a"])(e.data)?JSON.stringify(e.data):e.data,time:(new Date).getTime()},s=f.session.getJSON("sessionObj");if(void 0===s||null===s||""===s)f.session.setJSON("sessionObj",o);else{var i=s.url,c=s.data,d=s.time,m=1e3;if(c===o.data&&o.time-d<m&&i===o.url){var p="数据正在处理，请勿重复提交";return console.warn("[".concat(i,"]: ")+p),Promise.reject(new Error(p))}f.session.setJSON("sessionObj",o)}}return e}),(function(e){console.log(e),Promise.reject(e)})),b.interceptors.response.use((function(e){var t=e.data.code||200,r=e.data.msg,n=c[t]||c["default"];return"blob"===e.request.responseType||"arraybuffer"===e.request.responseType?e.data:401===t?(p.show||(p.show=!0,s["MessageBox"].confirm("登录状态已过期，您可以继续留在该页面，或者重新登录","系统提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){p.show=!1,i["a"].dispatch("LogOut").then((function(){location.href="/index"}))})).catch((function(){p.show=!1}))),Promise.reject("无效的会话，或者会话已过期，请重新登录。")):500===t?(Object(s["Message"])({message:n,type:"error"}),Promise.reject(new Error(n))):601===t?(Object(s["Message"])({message:n,type:"warning"}),Promise.reject("error")):200!==t?(s["Notification"].error({title:r}),Promise.reject("error")):e.data}),(function(e){console.log("err"+e);var t=e.message;return"Network Error"==t?t="后端接口连接异常":t.includes("timeout")?t="系统接口请求超时":t.includes("Request failed with status code")&&(t="系统接口"+t.substr(t.length-3)+"异常"),Object(s["Message"])({message:t,type:"error",duration:5e3}),Promise.reject(e)}));t["a"]=b},e2a7:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("5c96");function a(e,t){switch(t){case"warning":n["Message"].warning(e);break;case"error":n["Message"].error({message:e,duration:5e3,showClose:!0});break;case"info":n["Message"].info(e);break;default:n["Message"].success(e)}}}}]);